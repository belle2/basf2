#!/usr/bin/env python3

##########################################################################
# basf2 (Belle II Analysis Software Framework)                           #
# Author: The Belle II Collaboration                                     #
#                                                                        #
# See git log for contributors and copyright holders.                    #
# This file is licensed under LGPL-3.0, see LICENSE.md.                  #
##########################################################################

import basf2_mva

import argparse


def get_argument_parser() -> argparse.ArgumentParser:
    """ Parses the command line options of this tool """
    parser = argparse.ArgumentParser(description="""
    This tool extract weights from an xml/root file and uses a directory to temporarily store information from said weightfile.
    """)
    parser.add_argument('--mva_identifier', dest='mva_identifier', type=str, required=False, nargs='*',
                        help='Identifiers of the trained methods (.root or .xml format)', default="")
    parser.add_argument('--directory', dest='directory', type=str, required=True,
                        help='Directory which will contain the temporary directories generated by the the mva package')
    return parser


if __name__ == '__main__':

    parser = get_argument_parser()
    args = parser.parse_args()
    for filename in args.mva_identifier:
        basf2_mva.extract(filename, args.directory)
