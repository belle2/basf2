#!/usr/bin/env python3
# -*- coding: utf-8 -*-

# This script checks if the standard reconstruction runs without
# error for at least a few events

import basf2
from simulation import add_simulation

from vtx import get_upgrade_globaltag
basf2.conditions.disable_globaltag_replay()
basf2.conditions.prepend_globaltag(get_upgrade_globaltag())

basf2.set_random_seed(12345)

path = basf2.create_path()
path.add_module("EventInfoSetter", evtNumList=[10])
path.add_module("EvtGenInput")
add_simulation(path, useVTX=True)
path.add_module('RootOutput', outputFileName='evtgen_upgrade_bbar.root')

basf2.process(path)
