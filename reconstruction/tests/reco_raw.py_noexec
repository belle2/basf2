#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import sys
from basf2 import create_path, process, reset_database, use_central_database
from rawdata import add_unpackers
from reconstruction import add_reconstruction, add_cosmics_reconstruction

reset_database()
use_central_database('validation')

main = create_path()

main.add_module('RootInput')

add_unpackers(main)

if sys.argv[1] == 'cosmic':
    add_cosmics_reconstruction(main)
else:
    add_reconstruction(main)

process(main)
