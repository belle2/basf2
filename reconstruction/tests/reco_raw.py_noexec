#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import sys
from basf2 import create_path, process, statistics
from rawdata import add_unpackers
from reconstruction import add_reconstruction, add_cosmics_reconstruction
from validation_gt import get_validation_globaltags

from basf2 import conditions
conditions.override_globaltags(get_validation_globaltags())
conditions.prepend_globaltag("add_your_test_GT_here")

main = create_path()

main.add_module('RootInput')

add_unpackers(main)

if sys.argv[1] == 'cosmic':
    add_cosmics_reconstruction(main)
else:
    add_reconstruction(main)

process(main)
print(statistics)