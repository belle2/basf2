/************************************************************************** 
 * BASF2 (Belle Analysis Framework 2)                                     * 
 * Copyright(C) 2015  Belle II Collaboration                              * 
 *                                                                        * 
 * Author: The Belle II Collaboration                                     * 
 * Contributors: Kodai Matsuoka                                           * 
 *                                                                        * 
 * This software is provided "as is" without any warranty.                * 
 **************************************************************************/


void calib()
{
  int nbin;
  double dT[][2] = {
///*
// board stack 1, carrier 1, asic 0, channel 7
    {75, 90.8},
    {76, 90.8},
    {77, 90.8},
    {78, 90.8066},
    {79, 90.7796},
    {80, 90.8669},
    {81, 90.8591},
    {82, 90.8038},
    {83, 90.8721},
    {84, 90.9097},
    {85, 90.8816},
    {86, 90.8471},
    {87, 90.9055},
    {88, 90.9141},
    {89, 90.9016},
    {90, 90.8971},
    {91, 90.9366},
    {92, 90.9638},
    {93, 90.9682},
    {94, 90.9811},
    {95, 91.0163},
    {96, 91.0251},
    {97, 90.9816},
    {98, 91.003},
    {99, 90.9841},
    {100, 91.0333},
    {101, 91.034},
    {102, 91.0369},
    {103, 91.0618},
    {104, 91.0672},
    {105, 91.0851},
    {106, 91.1009},
    {107, 91.1074},
    {108, 91.0984},
    {109, 91.1244},
    {110, 91.1683},
    {111, 91.1171},
    {112, 91.1676},
    {113, 91.1543},
    {114, 91.1529},
    {115, 91.1215},
    {116, 91.223},
    {117, 91.1786},
    {118, 91.2011},
    {119, 91.1735},
    {120, 91.2182},
    {121, 91.1907},
    {122, 91.199},
    {123, 91.1941},
    {124, 91.2078},
    {125, 91.21},
    {126, 91.3172},
    {127, 91.2494},
    {128, 91.1426},
    {129, 91.1287},
    {130, 91.1268},
    {131, 91.1267},
    {132, 91.1717},
    {133, 91.0569},
    {134, 91.0444},
    {135, 91.0316},
    {136, 91.0827},
    {137, 90.9731},
    {138, 91.0089},
    {139, 90.9775},
    {140, 90.9948},
    {141, 90.9675},
    {142, 90.9721},
    {143, 90.977},
    {144, 90.9971},
    {145, 90.9625},
    {146, 90.9494},
    {147, 90.9271},
    {148, 90.9129},
    {149, 90.9122},
    {150, 90.9166},
    {151, 90.9253},
    {152, 90.932},
    {153, 90.834},
    {154, 90.8838},
    {155, 90.8035},
    {156, 90.8763},
    {157, 90.847},
    {158, 90.8759},
    {159, 90.865},
    {160, 90.8908},
    {161, 90.892},
    {162, 90.8971},
    {163, 90.8775},
    {164, 90.8891},
    {165, 90.8451},
    {166, 90.8967},
    {167, 90.8916},
    {168, 90.8652},
    {169, 90.966},
    {170, 90.9702},
    {171, 90.8949},
    {172, 90.9511},
    {173, 90.9321},
    {174, 90.959},
    {175, 90.9216},
    {176, 90.9842},
    {177, 90.942},
    {178, 90.9208},
    {179, 90.9478},
    {180, 91.0287},
    {181, 91.0126},
    {182, 91.0874},
    {183, 91.0248},
    {184, 91.0209},
    {185, 91.0601},
    {186, 91.0516},
    {187, 90.9992},
    {188, 91.07},
    {189, 91.0538},
    {190, 91.0829},
    {191, 91.0526},
    {192, 91.0906},
    {193, 91.1171},
    {194, 91.0958},
    {195, 91.15},
    {196, 91.1546},
    {197, 91.1801},
    {198, 91.1907},
    {199, 91.2092},
    {200, 91.1762},
    {201, 91.2101},
    {202, 91.2019},
    {203, 91.167},
    {204, 91.3205},
    {205, 91.6232},
    {206, 92.2083},
    {207, 92.6455},
    {208, 93.0211},
    {209, 92.8975},
    {210, 93.2939}};
  nbin = 136;
//*/
/*
// board stack 1, carrier 0, asic 1, channel 0
    {76, 83.2},
    {77, 83.2},
    {78, 83.2},
    {79, 83.2},
    {80, 83.2424},
    {81, 83.2462},
    {82, 83.2532},
    {83, 83.3457},
    {84, 83.3549},
    {85, 83.2594},
    {86, 83.3328},
    {87, 83.2639},
    {88, 83.4075},
    {89, 83.3466},
    {90, 83.3606},
    {91, 83.3572},
    {92, 83.2988},
    {93, 83.3538},
    {94, 83.4714},
    {95, 83.3677},
    {96, 83.5392},
    {97, 83.395},
    {98, 83.3973},
    {99, 83.3953},
    {100, 83.4984},
    {101, 83.4231},
    {102, 83.3953},
    {103, 83.4199},
    {104, 83.3875},
    {105, 83.3757},
    {106, 83.4534},
    {107, 83.4867},
    {108, 83.4005},
    {109, 83.4662},
    {110, 83.4168},
    {111, 83.4362},
    {112, 83.4411},
    {113, 83.5221},
    {114, 83.5998},
    {115, 83.5356},
    {116, 83.504},
    {117, 83.4739},
    {118, 83.4467},
    {119, 83.4114},
    {120, 83.4266},
    {121, 83.4931},
    {122, 83.4056},
    {123, 83.4804},
    {124, 83.4446},
    {125, 83.4935},
    {126, 83.5779},
    {127, 83.4851},
    {128, 83.6441},
    {129, 83.4058},
    {130, 83.3484},
    {131, 83.3868},
    {132, 83.36},
    {133, 83.3697},
    {134, 83.4467},
    {135, 83.5009},
    {136, 83.4666},
    {137, 83.2544},
    {138, 83.441},
    {139, 83.3021},
    {140, 83.1991},
    {141, 83.305},
    {142, 83.4126},
    {143, 83.3025},
    {144, 83.3229},
    {145, 83.3119},
    {146, 83.3167},
    {147, 83.3946},
    {148, 83.334},
    {149, 83.2523},
    {150, 83.3374},
    {151, 83.3279},
    {152, 83.4137},
    {153, 83.3103},
    {154, 83.3319},
    {155, 83.4104},
    {156, 83.4941},
    {157, 83.3759},
    {158, 83.3792},
    {159, 83.3506},
    {160, 83.4492},
    {161, 83.5426},
    {162, 83.4945},
    {163, 83.4062},
    {164, 83.466},
    {165, 83.3823},
    {166, 83.5211},
    {167, 83.4126},
    {168, 83.3836},
    {169, 83.41},
    {170, 83.6781},
    {171, 83.4138},
    {172, 83.5465},
    {173, 83.4296},
    {174, 83.4477},
    {175, 83.4978},
    {176, 83.5102},
    {177, 83.5633},
    {178, 83.5524},
    {179, 83.5477},
    {180, 83.7431},
    {181, 83.4774},
    {182, 83.604},
    {183, 83.5009},
    {184, 83.4553},
    {185, 83.1727},
    {186, 83.1877},
    {187, 83.3074},
    {188, 83.2328},
    {189, 83.0814},
    {190, 83.1873},
    {191, 83.178},
    {192, 83.3738},
    {193, 83.2395},
    {194, 83.2911},
    {195, 83.2997},
    {196, 83.2583},
    {197, 83.1775},
    {198, 83.2235},
    {199, 83.257},
    {200, 83.3402},
    {201, 83.2394},
    {202, 83.4063},
    {203, 83.236},
    {204, 83.364},
    {205, 83.3403},
    {206, 83.8621},
    {207, 84.2954}};
  nbin = 132;
*/
/*
// board stack 1, carrier 3, asic 0, channel 7
    {76, 82.83},
    {77, 82.83},
    {78, 82.83},
    {79, 82.83},
    {80, 82.8386},
    {81, 82.8364},
    {82, 82.8646},
    {83, 82.8151},
    {84, 82.9127},
    {85, 82.8388},
    {86, 82.7834},
    {87, 82.8081},
    {88, 82.8489},
    {89, 82.821},
    {90, 82.8519},
    {91, 82.794},
    {92, 82.8671},
    {93, 82.7859},
    {94, 82.8453},
    {95, 82.8156},
    {96, 82.8299},
    {97, 82.8062},
    {98, 82.837},
    {99, 82.827},
    {100, 82.8835},
    {101, 82.7734},
    {102, 82.7644},
    {103, 82.7337},
    {104, 82.7428},
    {105, 82.717},
    {106, 82.7047},
    {107, 82.7202},
    {108, 82.7809},
    {109, 82.6401},
    {110, 82.7175},
    {111, 82.6553},
    {112, 82.6776},
    {113, 82.6541},
    {114, 82.6746},
    {115, 82.5761},
    {116, 82.632},
    {117, 82.5889},
    {118, 82.6867},
    {119, 82.5792},
    {120, 82.621},
    {121, 82.5717},
    {122, 82.6231},
    {123, 82.5487},
    {124, 82.6643},
    {125, 82.719},
    {126, 82.7069},
    {127, 0},
    {128, 83.2355},
    {129, 83.2842},
    {130, 83.2368},
    {131, 83.19},
    {132, 83.2447},
    {133, 83.2314},
    {134, 83.2067},
    {135, 83.1494},
    {136, 83.1934},
    {137, 83.1775},
    {138, 83.1684},
    {139, 83.1877},
    {140, 83.1542},
    {141, 83.1537},
    {142, 83.2145},
    {143, 83.1698},
    {144, 83.1928},
    {145, 83.151},
    {146, 83.1742},
    {147, 83.1281},
    {148, 83.1951},
    {149, 83.1679},
    {150, 83.1848},
    {151, 83.1358},
    {152, 83.0906},
    {153, 83.1309},
    {154, 83.2199},
    {155, 83.1585},
    {156, 83.2162},
    {157, 83.1011},
    {158, 83.1648},
    {159, 83.1774},
    {160, 83.182},
    {161, 83.2234},
    {162, 83.1221},
    {163, 83.1489},
    {164, 83.1267},
    {165, 83.1482},
    {166, 83.1834},
    {167, 83.0742},
    {168, 83.1725},
    {169, 83.0603},
    {170, 83.1577},
    {171, 83.1298},
    {172, 83.161},
    {173, 83.1653},
    {174, 83.234},
    {175, 83.1531},
    {176, 83.2182},
    {177, 83.2044},
    {178, 83.2022},
    {179, 83.1467},
    {180, 83.1685},
    {181, 83.1205},
    {182, 83.1705},
    {183, 83.035},
    {184, 82.9646},
    {185, 82.8529},
    {186, 82.8292},
    {187, 82.7853},
    {188, 82.8408},
    {189, 82.8192},
    {190, 82.9135},
    {191, 82.7325},
    {192, 82.8513},
    {193, 82.9277},
    {194, 82.9187},
    {195, 82.9187},
    {196, 82.9492},
    {197, 82.8291},
    {198, 82.8836},
    {199, 82.857},
    {200, 82.8516},
    {201, 82.8322},
    {202, 82.8571},
    {203, 82.8293},
    {204, 82.8472},
    {205, 83.1961},
    {206, 83.6834},
    {207, 83.9954},
    {208, 84.2518}};
  nbin = 133;
*/

  ostringstream buf;
  for (int i=0; i<nbin; i++) {
    if (i>0) buf << "+";
    buf << "(int(tdc)==" << dT[i][0] << ")*" << setprecision(4) << dT[i][1];
  }
  top->SetAlias("tdc0",buf.str().c_str());
}
