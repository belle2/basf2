<?xml version="1.0" encoding="UTF-8"?>
<Detector xmlns:xi="http://www.w3.org/2001/XInclude">
  <Name>TBDetector</Name>
  <Description>Common PXD and SVD TestBeam</Description>
  <Global>
    <material>Air</material>
    <width unit="m">17.0</width>
    <length unit="m">17.0</length>
    <height unit="m">17.0</height>
  </Global>
  <!-- Define materials -->
  <xi:include href="../../geometry/BasicMaterials.xml" />
  <xi:include href="../../pxd/PXD-Materials.xml" />
  <xi:include href="../../svd/SVD-Materials.xml" />
  <xi:include href="./TB-Materials.xml" />
  <DetectorComponent name="TB">
    <Creator library="testbeam">VXDTBCreator</Creator>
    <Content>
      <!-- This sets the material used if none is specified for a volume -->
      <DefaultMaterial>Air</DefaultMaterial>
      <!-- If this is true, TrueHits will only be created for primary particles, Secondaries produced by Geant4 will not create TrueHits -->
      <OnlyPrimaryTrueHits>true</OnlyPrimaryTrueHits>
      <!--Settings for background and exposure studies -->
      <ActiveChips desc="Set to true to make chips on sensors sensitive">false</ActiveChips>
      <SeeNeutrons desc="Set to true to make sensitive detectors see neutrons">false</SeeNeutrons>
      <SensitiveThreshold desc="Minimum deposited energy per geant4 step" unit="eV">1.0</SensitiveThreshold>
      <Alignment>
        <xi:include href="VXD-Alignment.xml" xpointer="xpointer(//*)" />
      </Alignment>
      <Volumes>
      
        <Volume name="wienSensor1">
          <xi:include href="Library.xml" xpointer="xpointer(//Snippet[@name='wienSensor']/*)" />
          <DX unit="cm">250</DX>
        </Volume>
        <Volume name="wienSensor2">
          <xi:include href="Library.xml" xpointer="xpointer(//Snippet[@name='wienSensor']/*)" />
          <DX unit="cm">252</DX>
        </Volume>
        <Volume name="wienSensor3">
          <xi:include href="Library.xml" xpointer="xpointer(//Snippet[@name='wienSensor']/*)" />
          <DX unit="cm">254</DX>
        </Volume>
        <Volume name="wienSensor4">
          <xi:include href="Library.xml" xpointer="xpointer(//Snippet[@name='wienSensor']/*)" />          
          <DX unit="cm">256</DX>
        </Volume>
        <Volume name="wienSensor5">
          <DX unit="cm">258</DX>
          <xi:include href="Library.xml" xpointer="xpointer(//Snippet[@name='wienSensor']/*)" />
        </Volume>  
        <Volume name="wienSensor6">
          <DX unit="cm">260</DX>
          <xi:include href="Library.xml" xpointer="xpointer(//Snippet[@name='wienSensor']/*)" />
        </Volume>          

        <Volume name="BeamScanningSensor">
          <DX unit="cm">-750</DX>
          <Theta unit="deg">90</Theta>
          <Phi unit="deg">-90</Phi>
          <Psi unit="deg">90</Psi>
          <AlignComponent>7.2.1</AlignComponent>
          <Material>Si</Material>
          <Shape>Box</Shape>
          <HalfX unit="mm">12</HalfX>
          <HalfY unit="mm">12</HalfY>
          <HalfZ unit="um">25</HalfZ>
          <Active>
            <SensorID>1</SensorID>
            <Ladder>2</Ladder>
            <Layer>7</Layer>
            <xi:include href="Library.xml" xpointer="xpointer(//Snippet[@name='EUDET-Active']/*)" />
          </Active>
        </Volume>
</Volumes>
</Content>
</DetectorComponent>
<Tracking>
  <xi:include href="VXDTFindexTB.xml" />
</Tracking>
</Detector>