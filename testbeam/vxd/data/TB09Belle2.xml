<?xml version="1.0" encoding="UTF-8"?>
<Detector xmlns:xi="http://www.w3.org/2001/XInclude">
  <Name>TBDetector</Name>
  <Description>Test Beam Detector Base</Description>
  <Global>
    <material>Air</material>
    <width  unit="m">2.0</width>
    <length unit="m">2.0</length>
    <height unit="m">2.0</height>
  </Global>

  <!-- Define materials -->
  <xi:include href="../../geometry/BasicMaterials.xml"/>
  <xi:include href="TB-Materials.xml"/>
  <xi:include href="../../pxd/PXD-Materials.xml"/>

  <!-- Magnetic field -->
  <!--<xi:include href="../../simulation/MagneticField.xml"/> -->

  <!-- Subdedectors -->
<DetectorComponent name="TB"
	xmlns:xi="http://www.w3.org/2001/XInclude">
	<Creator library="testbeam">TBCreator</Creator>
	<Content>
		<!-- If this is true, TrueHits will only be created for primary particles, 
			secondaries produced by Geant4 will not create TrueHits -->
		<OnlyPrimaryTrueHits>false</OnlyPrimaryTrueHits>
		<!--Settings for background and exposure studies -->
		<ActiveChips desc="Set to true to make chips on sensors sensitive">false</ActiveChips>
		<SeeNeutrons desc="Set to true to make sensitive detectors see neutrons">false</SeeNeutrons>
		<SensitiveThreshold desc="Minimum deposited energy per geant4 step"
			unit="eV">1.0</SensitiveThreshold>
		<Alignment></Alignment>
		<Volumes>

			<Volume>
				<Name>Tel0Container</Name>
				<DZ unit="cm">0</DZ>

				<DX unit="um">-16</DX>
				<DY unit="um">15</DY>
				<Theta unit="deg">0.1</Theta>
				<Phi unit="deg">0.2</Phi>
				<Psi unit="deg">0</Psi>

				<xi:include href="TB09-Snippets.xml"
					xpointer="xpointer(//Snippet[@name='ModuleContainer']/*)" />
				<Volume>
					<Name>Tel0</Name>
					<xi:include href="TB09-Snippets.xml"
						xpointer="xpointer(//Snippet[@name='TelescopeSensor']/*)" />
					<Active>
						<SensorID>1</SensorID><Ladder>1</Ladder><Layer>1</Layer>
						<xi:include href="TB09-Snippets.xml"
							xpointer="xpointer(//Snippet[@name='TelescopeActive']/*)" />
					</Active>
				</Volume>
				<xi:include href="TB09-Snippets.xml"
					xpointer="xpointer(//Snippet[@name='AluminiumWindows']/*)" />
			</Volume>

			<Volume>
				<Name>Tel1Container</Name>
				<DZ unit="cm">8</DZ>

				<DX unit="um">-17</DX>
				<DY unit="um">-36</DY>
				<Theta unit="deg">-0.1</Theta>
				<Phi unit="deg">0.1</Phi>
				<Psi unit="deg">0</Psi>
				<xi:include href="TB09-Snippets.xml"
					xpointer="xpointer(//Snippet[@name='ModuleContainer']/*)" />
				<Volume>
					<Name>Tel1</Name>
					<xi:include href="TB09-Snippets.xml"
						xpointer="xpointer(//Snippet[@name='TelescopeSensor']/*)" />
					<Active>
						<SensorID>2</SensorID><Ladder>1</Ladder><Layer>1</Layer>
						<xi:include href="TB09-Snippets.xml"
							xpointer="xpointer(//Snippet[@name='TelescopeActive']/*)" />
					</Active>
				</Volume>
				<xi:include href="TB09-Snippets.xml"
					xpointer="xpointer(//Snippet[@name='AluminiumWindows']/*)" />
			</Volume>

			<Volume>
				<Name>DUTContainer</Name>
				<DZ unit="cm">19.8</DZ>

				<DX unit="um">35</DX>
				<DY unit="um">-20</DY>
				<Theta unit="deg">-0.25</Theta>
				<Phi unit="deg">0.2</Phi>
				<Psi unit="deg">0.0</Psi>
				<xi:include href="TB09-Snippets.xml"
					xpointer="xpointer(//Snippet[@name='ModuleContainer']/*)" />
				<Volume>
					<Name>DUT</Name>
					<xi:include href="TB09-Snippets.xml"
						xpointer="xpointer(//Snippet[@name='DUTSensorBelle']/*)" />
					<Active>
						<SensorID>3</SensorID><Ladder>1</Ladder><Layer>1</Layer>
						<xi:include href="TB09-Snippets.xml"
							xpointer="xpointer(//Snippet[@name='DUTActiveBelle']/*)" />
					</Active>
				</Volume>
				<xi:include href="TB09-Snippets.xml"
					xpointer="xpointer(//Snippet[@name='AluminiumWindows']/*)" />
			</Volume>

			<Volume>
				<Name>Tel2Container</Name>
				<DZ unit="cm">32.0</DZ>

				<DX unit="um">23</DX>
				<DY unit="um">-35</DY>
				<Theta unit="deg">0.1</Theta>
				<Phi unit="deg">-0.16</Phi>
				<Psi unit="deg">0</Psi>
				<xi:include href="TB09-Snippets.xml"
					xpointer="xpointer(//Snippet[@name='ModuleContainer']/*)" />
				<Volume>
					<Name>Tel3</Name>
					<xi:include href="TB09-Snippets.xml"
						xpointer="xpointer(//Snippet[@name='TelescopeSensor']/*)" />
					<Active>
						<SensorID>4</SensorID><Ladder>1</Ladder><Layer>1</Layer>
						<xi:include href="TB09-Snippets.xml"
							xpointer="xpointer(//Snippet[@name='TelescopeActive']/*)" />
					</Active>
				</Volume>
				<xi:include href="TB09-Snippets.xml"
					xpointer="xpointer(//Snippet[@name='AluminiumWindows']/*)" />
			</Volume>

			<Volume>
				<Name>Tel3Container</Name>
				<DZ unit="cm">40.4</DZ>

				<DX unit="um">-34</DX>
				<DY unit="um">27</DY>
				<Theta unit="deg">0.1</Theta>
				<Phi unit="deg">0.2</Phi>
				<Psi unit="deg">0</Psi>
				<xi:include href="TB09-Snippets.xml"
					xpointer="xpointer(//Snippet[@name='ModuleContainer']/*)" />
				<Volume>
					<Name>Tel3</Name>
					<xi:include href="TB09-Snippets.xml"
						xpointer="xpointer(//Snippet[@name='TelescopeSensor']/*)" />
					<Active>
						<SensorID>5</SensorID><Ladder>1</Ladder><Layer>1</Layer>
						<xi:include href="TB09-Snippets.xml"
							xpointer="xpointer(//Snippet[@name='TelescopeActive']/*)" />
					</Active>
				</Volume>
				<xi:include href="TB09-Snippets.xml"
					xpointer="xpointer(//Snippet[@name='AluminiumWindows']/*)" />
			</Volume>

			<Volume>
				<Name>Tel4Container</Name>
				<DZ unit="cm">52.9</DZ>

				<DX unit="um">23</DX>
				<DY unit="um">-20</DY>
				<Theta unit="deg">0.1</Theta>
				<Phi unit="deg">-0.2</Phi>
				<Psi unit="deg">0</Psi>
				<xi:include href="TB09-Snippets.xml"
					xpointer="xpointer(//Snippet[@name='ModuleContainer']/*)" />
				<Volume>
					<Name>Tel4</Name>
					<xi:include href="TB09-Snippets.xml"
						xpointer="xpointer(//Snippet[@name='TelescopeSensor']/*)" />
					<Active>
						<SensorID>6</SensorID><Ladder>1</Ladder><Layer>1</Layer>
						<xi:include href="TB09-Snippets.xml"
							xpointer="xpointer(//Snippet[@name='TelescopeActive']/*)" />
					</Active>
				</Volume>
				<xi:include href="TB09-Snippets.xml"
					xpointer="xpointer(//Snippet[@name='AluminiumWindows']/*)" />
			</Volume>



		</Volumes>
	</Content>
</DetectorComponent>

</Detector>
