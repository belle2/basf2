#!/bin/bash

# this is an expample script demonstrating on how to submit a series of jobs for different random seeds to the queue at KEK
# NOTE: you HAVE to adjust the numbers below otherwise you will generate 2000k events!!

# list of random seeds for which events should be generated (adjust to your needs)
# for each of these seeds nevt events will be generated,
# the seeds have been generated with following shell command:  for i in `seq 1 400`; do echo -n "$RANDOM "; done; echo " "
# some caution has been taken to make each number uniq
rndseeds=(2771  26825  8169  17874  9372  9316  23715  5305  18014  2935  30450  21122  29581  28282  15456  1765  16712  10775  8697  4154  30098  8045  18905  25508  20628  30252  26010  9957  18530  30350  8089  7603  1812  30611  28875  18830  17235  9001  4136  2063  27643  29099  25500  29560  31031  21934  27530  21116  3617  16242  1598  8955  15970  28860  7104  32258  24704  5477  28531  6915  16505  30798  7111  18740  5792  9514  12347  19336  7683  9769  29648  4512  21007  11670  31879  10368  14191  3141  13405  8635  11252  26396  6047  31289  32628  26161  26870  2915  15840  25039  6960  5114  14471  18710  30134  18174  10310  23412  17865  21478  20859  9136  7368  15927  22852  16765  17898  12821  15214  20726  5346  18132  12908  5060  23277  22084  17585  28606  29497  28766  32120  28615  8107  15174  8050  9817  17655  28699  16615  15028  15810  19259  13779  30094  24  29771  1964  19618  20453  30145  31688  19248  4295  20658  5445  1686  14863  29768  23215  30032  6827  4341  25756  5015  18378  20606  20362  4967  2682  4199  8993  2412  18354  18431  1726  27710  3706  14581  32057  20092  25333  7049  28447  2168  8085  4716  3792  21501  24010  20050  3940  17559  20495  12629  3457  20193  29264  6322  30640  27455  5900  20742  6416  9272  6737  30404  3076  31705  3533  13999  17085  15548  719  16471  11375  25910  31753  26244  13342  31560  27660  14975  4416  18628  23617  30403  10223  31061  28485  29592  15600  26047  4052  28863  19605  5450  31489  17927  15604  3459  28390  26823  9760  16272  11370  6153  6903  9621  11002  16579  28351  957  18192  13590  477  4010  5867  22162  20801  8463  2552  7690  26444  26863  24217  24856  9335  18756  12902  32701  6719  16104  11532  16989  15425  10280  1679  27519  8373  7871  14046  21818  8549  8644  4000  6571  23822  7262  9099  21301  22876  24206  23502  986  32076  18345  29831  29059  31210  4466  2450  4410  17713  23710  18440  14932  9675  27673  1531  29494  6715  15159  22269  6396  4535  17367  1390  13661  15601  18141  1787  1271  14265  9377  31434  9418  530  16241  21928  14008  3868  14157  30810  851  32634  28530  20854  24124  29030  6783  24110  24752  5916  25283  9483  6969  26496  10352  2  9424  3145  10658  6106  7105  31193  23539  19933  3844  31538  22158  22591  27231  18093  25623  19142  21875  6164  3536  10891  16452  31682  10036  31644  4717  25151  21277  18560  27180  3501  10903  22586  31277  20557  18986  15731  8718  1735  4637  22245  6026  6590  13720  19486  26764  32629  4788  14370  29499  22436  6907  7403  16040  14338  24516  4229  23018  17770  32692  22537  3810)

# the name of the output directory where the root files will be stored
outdir=./datadir/
# number of events generated per random seed (at around 6000 events the cpu limit is reached for the s queue)
nevt=5000
# the name of the queue at KEK
queue=s

# loop over all random seeds
for seed in ${rndseeds[@]} 
do
  echo $seed
  bsub -q $queue -o ${outdir}log${seed}.log  basf2 eventSimulation.py $seed $outdir -n $nevt
done
