#!/bin/bash

# this is an expample script demonstrating on how to submit a series of jobs for different random seeds to the queue at KEK
# NOTE: you HAVE to adjust the numbers below otherwise you will generate 2000k events!!

# list of random seeds for which events should be generated (adjust to your needs)
# for each of these seeds nevt events will be generated
# the seeds have been generated with following shell command:  for i in `seq 1 200`; do echo -n "$RANDOM "; done; echo " "
rndseeds=( 7368 13756 27374 1500 22835 30091 10417 8477 17588 8892 13582 21588 9586 1946 25559 5239 13073 19166 25951 3589 7449 6286 21441 27701 19744 17518 15537 22935 3169 29661 24201 10538 23191 14961 4274 14984 4481 24135 22382 15821 14523 23106 30485 18455 1192 27825 6699 7658 16659 27016 8331 15573 4203 5077 23274 29351 3240 9796 30180 29472 22984 31460 24668 29009 17765 18336 32235 29539 14646 17939 11828 2571 10847 26713 29807 24748 26394 12898 297 1084 17477 14042 16761 8145 1755 28712 31503 16012 12820 7329 25110 19292 8924 17391 22680 13688 11009 30384 19965 29354 15085 20073 749 22163 29164 3282 20783 6273 30963 24109 168 18794 5851 23324 17924 23727 15659 32496 29368 20673 21811 12277 12644 25091 23777 31413 23721 32481 9886 32507 12224 15062 23397 4931 18708 7036 2543 22901 18210 24015 7225 12289 20074 22180 20697 1598 6502 10762 16903 7480 2156 13411 6075 17356 24279 5444 24331 32748 12725 16205 30468 26033 1515 19704 30390 18310 28978 21630 26036 11396 23924 11774 14800 22093 7526 14921 19228 24913 19398 32691 5739 8507 29526 13667 16107 24511 7508 11407 10625 2328 25542 2431 4207 10535 6050 11845 24781 23610 5689 6995)

# the name of the output directory where the root files will be stored
outdir=./datadir/
# number of events generated per random seed (at around 13000 events the cpu limit is reached)
nevt=10000
# the name of the queue at KEK
queue=s

# loop over all random seeds
for seed in ${rndseeds[@]} 
do
  echo $seed
  bsub -q $queue -o ${outdir}log${seed}.log  basf2 eventSimulation.py $seed $outdir -n $nevt
done
