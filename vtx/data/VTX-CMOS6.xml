<?xml version="1.0" encoding="UTF-8"?>
<DetectorComponent name="VTX" xmlns:xi="http://www.w3.org/2001/XInclude">
  <Creator library="vtx">VTXCreator</Creator>
  <Content>
    <!-- Set the default Material for the Envelope and Components which do not have a Material assigned -->
    <DefaultMaterial>Air</DefaultMaterial>
    <!--If this is true, all dead Material will be ignored and only the active
        Material will be placed and the rest of the Detector will be filled
        with DefaultMaterial -->
    <OnlyActiveMaterial>false</OnlyActiveMaterial>
    <!-- Set the  stepsize to be used in senistive volumes -->
    <ActiveStepSize unit="um">5</ActiveStepSize>
    <!-- If this is true, TrueHits will only be created for primary particles,
         secondaries produced by Geant4 will not create TrueHits -->
    <OnlyPrimaryTrueHits>false</OnlyPrimaryTrueHits>
    <!--Settings for background and exposure studies -->
    <ActiveChips desc="Set to true to make chips on sensors sensitive">false</ActiveChips>
    <SeeNeutrons desc="Set to true to make sensitive detectors see neutrons">false</SeeNeutrons>
    <SensitiveThreshold desc="Minimum deposited energy per geant4 step" unit="eV">1.0</SensitiveThreshold>
    <!-- Include Alignment information -->
    <xi:include href="VTX-Alignment-CMOS6.xml"/>
    <!-- Include definition of logical volume encapsulating the VTX -->
    <!--xi:include href="VTX-Envelope.xml"/-->
    <!-- Include the definition of the mechanical support -->
    <!--xi:include href="VTX-Support.xml"/-->
    <!-- Include the definition of all the components like ladders, sensors and
         chips -->
    <xi:include href="VTX-Components-CMOS6.xml"/>
    <!-- include radiation sensor definition -->
    <!--xi:include href="VTX-RadiationSensors.xml"/-->

    <!-- VTX is build as two half shells which will be attached to the beampipe
         from the sides. We follow this scheme in the simulation geometry for
         alignment purposes. Each shell consists of a number of ladders for
         each layer. -->
    <HalfShell name="Ying">
      <!-- For this shell we place the support without any rotation -->
      <shellAngle unit="deg">0</shellAngle>
      <!-- Define the ladders in each layer with increasing phi angle -->
      <Layer id="1">
        <Ladder id="1"><phi unit="deg">0</phi></Ladder>
        <Ladder id="2"><phi unit="deg">60</phi></Ladder>
        <Ladder id="3"><phi unit="deg">120</phi></Ladder>
      </Layer>
      <Layer id="2">
        <Ladder id="1"><phi unit="deg">0</phi></Ladder>
        <Ladder id="2"><phi unit="deg">36</phi></Ladder>
        <Ladder id="3"><phi unit="deg">72</phi></Ladder>
        <Ladder id="4"><phi unit="deg">108</phi></Ladder>
        <Ladder id="5"><phi unit="deg">144</phi></Ladder>
      </Layer>
      <Layer id="3">
        <Ladder id="1"><phi unit="deg">0</phi></Ladder>
        <Ladder id="2"><phi unit="deg">45</phi></Ladder>
        <Ladder id="3"><phi unit="deg">90</phi></Ladder>
        <Ladder id="4"><phi unit="deg">135</phi></Ladder>
      </Layer>
      <Layer id="4">
        <Ladder id="1"><phi unit="deg">0</phi></Ladder>
        <Ladder id="2"><phi unit="deg">22.5</phi></Ladder>
        <Ladder id="3"><phi unit="deg">45</phi></Ladder>
        <Ladder id="4"><phi unit="deg">67.5</phi></Ladder>
        <Ladder id="5"><phi unit="deg">90</phi></Ladder>
        <Ladder id="6"><phi unit="deg">112.5</phi></Ladder>
        <Ladder id="7"><phi unit="deg">135</phi></Ladder>
        <Ladder id="8"><phi unit="deg">157.5</phi></Ladder>
      </Layer>
      <Layer id="5">
        <Ladder id="1"><phi unit="deg">0.0</phi></Ladder>
        <Ladder id="2"><phi unit="deg">18</phi></Ladder>
        <Ladder id="3"><phi unit="deg">36</phi></Ladder>
        <Ladder id="4"><phi unit="deg">54</phi></Ladder>
        <Ladder id="5"><phi unit="deg">72</phi></Ladder>
        <Ladder id="6"><phi unit="deg">90</phi></Ladder>
        <Ladder id="7"><phi unit="deg">108</phi></Ladder>
        <Ladder id="8"><phi unit="deg">126</phi></Ladder>
        <Ladder id="9"><phi unit="deg">144</phi></Ladder>
        <Ladder id="10"><phi unit="deg">162</phi></Ladder>
      </Layer>
      <Layer id="6">
        <Ladder id="1"><phi unit="deg">0.0</phi></Ladder>
        <Ladder id="2"><phi unit="deg">13.85</phi></Ladder>
        <Ladder id="3"><phi unit="deg">27.69</phi></Ladder>
        <Ladder id="4"><phi unit="deg">41.54</phi></Ladder>
        <Ladder id="5"><phi unit="deg">55.38</phi></Ladder>
        <Ladder id="6"><phi unit="deg">69.23</phi></Ladder>
        <Ladder id="7"><phi unit="deg">83.08</phi></Ladder>
        <Ladder id="8"><phi unit="deg">96.92</phi></Ladder>
        <Ladder id="9"><phi unit="deg">110.77</phi></Ladder>
        <Ladder id="10"><phi unit="deg">124.62</phi></Ladder>
        <Ladder id="11"><phi unit="deg">138.46</phi></Ladder>
        <Ladder id="12"><phi unit="deg">152.31</phi></Ladder>
        <Ladder id="13"><phi unit="deg">166.15</phi></Ladder>
      </Layer>
    </HalfShell>
    <HalfShell name="Yang">
      <!-- Place the support with an rotation of 180 degree around the z-axis
           compared to form second half -->
      <shellAngle unit="deg">180</shellAngle>
      <!-- Define the ladders in each layer with increasing phi angle. The
           ladder ids are unique per layer and thus are continued from the
           first half shell -->
      <Layer id="1">
        <Ladder id="4"><phi unit="deg">180</phi></Ladder>
        <Ladder id="5"><phi unit="deg">240</phi></Ladder>
        <Ladder id="6"><phi unit="deg">300</phi></Ladder>
      </Layer>
      <Layer id="2">
        <Ladder id="6"><phi unit="deg">180</phi></Ladder>
        <Ladder id="7"><phi unit="deg">216</phi></Ladder>
        <Ladder id="8"><phi unit="deg">252</phi></Ladder>
        <Ladder id="9"><phi unit="deg">288</phi></Ladder>
        <Ladder id="10"><phi unit="deg">324</phi></Ladder>
      </Layer>
      <Layer id="3">
        <Ladder id="5"><phi unit="deg">180</phi></Ladder>
        <Ladder id="6"><phi unit="deg">225</phi></Ladder>
        <Ladder id="7"><phi unit="deg">270</phi></Ladder>
        <Ladder id="8"><phi unit="deg">315</phi></Ladder>
      </Layer>
      <Layer id="4">
        <Ladder id="9"><phi unit="deg">180</phi></Ladder>
        <Ladder id="10"><phi unit="deg">202.5</phi></Ladder>
        <Ladder id="11"><phi unit="deg">225</phi></Ladder>
        <Ladder id="12"><phi unit="deg">247.5</phi></Ladder>
        <Ladder id="13"><phi unit="deg">270</phi></Ladder>
        <Ladder id="14"><phi unit="deg">292.5</phi></Ladder>
        <Ladder id="15"><phi unit="deg">315</phi></Ladder>
        <Ladder id="16"><phi unit="deg">337.5</phi></Ladder>
      </Layer>
      <Layer id="5">
        <Ladder id="11"><phi unit="deg">180</phi></Ladder>
        <Ladder id="12"><phi unit="deg">198</phi></Ladder>
        <Ladder id="13"><phi unit="deg">216</phi></Ladder>
        <Ladder id="14"><phi unit="deg">234</phi></Ladder>
        <Ladder id="15"><phi unit="deg">252</phi></Ladder>
        <Ladder id="16"><phi unit="deg">270</phi></Ladder>
        <Ladder id="17"><phi unit="deg">288</phi></Ladder>
        <Ladder id="18"><phi unit="deg">306</phi></Ladder>
        <Ladder id="19"><phi unit="deg">324</phi></Ladder>
        <Ladder id="20"><phi unit="deg">342</phi></Ladder>
      </Layer> 
      <Layer id="6">
        <Ladder id="14"><phi unit="deg">180.0</phi></Ladder>
        <Ladder id="15"><phi unit="deg">193.85</phi></Ladder>
        <Ladder id="16"><phi unit="deg">207.69</phi></Ladder>
        <Ladder id="17"><phi unit="deg">221.54</phi></Ladder>
        <Ladder id="18"><phi unit="deg">235.38</phi></Ladder>
        <Ladder id="19"><phi unit="deg">249.23</phi></Ladder>
        <Ladder id="20"><phi unit="deg">263.08</phi></Ladder>
        <Ladder id="21"><phi unit="deg">276.92</phi></Ladder>
        <Ladder id="22"><phi unit="deg">290.77</phi></Ladder>
        <Ladder id="23"><phi unit="deg">304.62</phi></Ladder>
        <Ladder id="24"><phi unit="deg">318.46</phi></Ladder>
        <Ladder id="25"><phi unit="deg">332.31</phi></Ladder>
        <Ladder id="26"><phi unit="deg">346.15</phi></Ladder>
      </Layer> 
    </HalfShell>
  </Content>
</DetectorComponent>
